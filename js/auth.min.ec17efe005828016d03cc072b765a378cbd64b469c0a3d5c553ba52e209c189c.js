window.addEventListener("message",function(e){if(e.origin!==window.location.origin)return;const n=e.data,t=document.getElementById("authButtons");if(t.innerHTML="",n.isLoggedIn){if(n.role==="admin"){const e=document.createElement("button");e.textContent="管理者ページ",e.onclick=function(){window.location.href="{{ .Site.BaseURL }}/admin/"},t.appendChild(e)}const e=document.createElement("button");e.textContent="ログアウト",e.onclick=function(){window.location.href="{{ .Site.BaseURL }}/logout/"},t.appendChild(e)}else{const e=document.createElement("button");e.textContent="ログイン",e.onclick=function(){window.location.href="{{ .Site.BaseURL }}/login/"},t.appendChild(e)}}),document.getElementById("authFrame").style.display="block"