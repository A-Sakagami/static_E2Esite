<!DOCTYPE html>
<html>
<head>
	<meta name="generator" content="Hugo 0.136.5">
  <meta charset="UTF-8">
  <title>Workflow Tool</title>
  <meta name="description" content="">
  <link href="https://a-sakagami.github.io/static_E2Esite/css/style.css" rel="stylesheet">
  <link href="https://a-sakagami.github.io/static_E2Esite/css/header.css" rel="stylesheet">
  <link href="https://a-sakagami.github.io/static_E2Esite/css/footer.css" rel="stylesheet">
  
  <script>
    
    document.addEventListener("DOMContentLoaded", () => {
      const loginButton = document.getElementById("login-button");
      const loginScreen = document.getElementById("login-screen");
      const userArea = document.getElementById("user-area");

      
      const userType = localStorage.getItem("userType");

      if (userType === "admin") {
          
          window.location.href = "https://a-sakagami.github.io/static_E2Esite/admin/"; 
      } else if (userType === "user") {
          
          loginScreen.style.display = "none";
          userArea.style.display = "block";
      } else {
          
          loginButton.addEventListener("click", () => {
          window.location.href = "https://a-sakagami.github.io/static_E2Esite/login/"; 
        });
      }
    });
  </script> 
</head>
<body>
    <header>
    <div class="logo" data-test-id="logo">Workflow Tool</div>
    <nav>
        <ul style="list-style: none; margin: 0; padding: 0; display: flex;">
            <li><a href="https://a-sakagami.github.io/static_E2Esite/">Home</a></li>
            <li><a href="/static_E2Esite/about/">About</a></li>
            <li><a href="/static_E2Esite/contact/">Contact</a></li>
            <li><a id="auth-menu" href="/static_E2Esite/login/">Login</a></li>
            <li><a href="/static_E2Esite/admin/" style="display: none;">Admin</a></li>
        </ul>
    </nav>
</header>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const authMenu = document.getElementById("auth-menu");

        
        const userType = localStorage.getItem("userType");

        if (userType) {
            
            authMenu.textContent = "Logout";
            authMenu.href = "#";
            authMenu.addEventListener("click", () => {
                
                localStorage.removeItem("userType");
                alert("ログアウトしました。");
                window.location.reload();
            });
        } else {
            
            authMenu.textContent = "ログイン";
            authMenu.href = "/login/";
        }
    });
</script>
  
    <main>
      <article>
        <h2 id="サイトのメインコンテンツ">サイトのメインコンテンツ</h2>
<p>ようこそ！このサイトはHugoを使って作成されています。</p>
<ul>
<li><strong>高速で軽量</strong></li>
<li><strong>シンプルな構成</strong></li>
<li><strong>柔軟なカスタマイズ</strong></li>
</ul>

        
        <div data-test-id="login-button" id="login-screen">
          <button id="login-button">ログイン</button>
        </div>
        <div data-test-id="user-area" id="user-area" style="display: none;">
          <textarea id="message" placeholder="ここに入力してください..."></textarea>
          <button id="sendMessage">送信</button>
        </div>
        
        <script>
          document.addEventListener("DOMContentLoaded", () => {
              const user = JSON.parse(localStorage.getItem("user"));
              if (user && user.role === "user") {
                  document.getElementById("user-area").style.display = "block";
                  document.getElementById("sendMessage").addEventListener("click", async () => {
                      const message = document.getElementById("message").value;
                      await fetch("/submit-message", {
                          method: "POST",
                          headers: { "Content-Type": "application/json" },
                          body: JSON.stringify({ userName: user.name, message }),
                      });
                      alert("メッセージが送信されました");
                  });
              }
          });
        </script>
      </article>
    </main>
    <footer>
    <p>© 2024 My Hugo Site</p>
</footer>
</body>
</html>
