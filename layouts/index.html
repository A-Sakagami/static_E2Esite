<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ .Title }}</title>
    <meta name="description" content="{{ .Params.description }}">
    <link href="{{ .Site.BaseURL }}css/style.css" rel="stylesheet">
    <script>
      function handleButtonClick() {
        const userInput = document.getElementById('userInput').value;
        alert('入力された内容: ' + userInput);
      }

      function checkLoginStatus() {
        const isLoggedIn = localStorage.getItem('isLoggedIn');
        const role = localStorage.getItem('role');
        const authLink = document.getElementById('authLink');

        if (isLoggedIn) {
          if (role === 'admin') {
            authLink.innerHTML = '<a href="{{ .Site.BaseURL }}/admin/">管理者ページ</a>';
          }
          authLink.innerHTML += '<a href="{{ .Site.BaseURL }}/logout/">ログアウト</a>';
        } else {
          authLink.innerHTML = '<a href="{{ .Site.BaseURL }}/login.html">ログイン</a>';
        }
      }

      document.addEventListener('DOMContentLoaded', checkLoginStatus);
    </script>
</head>
<body>
    {{ partial "header.html" . }}
    <main>
      <article>
        {{ .Content }}
        <iframe id="authFrame" src="{{ .Site.BaseURL }}auth.html" style="display:none;"></iframe>
        <!-- テキストエリアとボタンの追加 -->
        <div>
          <textarea id="userInput" rows="4" cols="50" placeholder="ここに入力してください..."></textarea>
          <br>
          <button onclick="handleButtonClick()">送信</button>
        </div>
      </article>
    </main>
  
    {{ partial "footer.html" . }}
</body>
</html>
